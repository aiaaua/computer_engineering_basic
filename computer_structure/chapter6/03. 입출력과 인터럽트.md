# I/O and Interrupt

I/O장치는 통신 준비 여부에 따라 CPU와 통신하며,

각 디바이스 인터페이스는 flag가 enable되었을 때 CPU에 interrupt를 요청

CPU는 현재 수행중이던 프로그램을 중지하고 I/O 전송을 수행하며, 전송 후 원 프로그램으로 복귀함



## Interrupt Priority 

우선순위 인터럽트는 동시다발적으로 발생한 인터럽트에 대해 

서비스 순서를 결정하기 위해 각 소스에 우선순위를 부여한 인터럽트 시스템

일반적으로 하드웨어 인터럽트가 소프트웨어 인터럽트보다 우선 순위가 높으며

내부 인터럽트 보다 외부 인터럽트가 우선 순위가 높음



### Polling

소프트웨어적인 방법

인터럽트 요청 플래그를 차례로 비교하여 우선순위가 가장 높은 인터럽트 자원을 찾아 루틴 수행

우선순위 변경이 용이하고 회로가 간단

인터럽트가 많은 경우 우선순위 판단 속도가 느림



### Vectored Interrupt

하드웨어적인 방법

인터럽트를 요청할 수 있는 장치와 CPU사이에 장치번호를 식별할 수 있는 버스를 직렬/병렬로 연결

인터럽트 벡터는 인터럽트를 발생시킨 장치가 분기할 곳에 대한 정보

별도의 프로그램 루틴이 없기 때문에 응답속도가 빠르나 

회로가 복잡하고 융통성이 없으며 추가 하드웨어가 필요함



#### Daisy Chain

하드웨어적인 방법이며 직렬 우선순위 부여 방식임

인터럽트가 발생하는 모든 장치를 한 개의 회선에 직렬로 연결

우선순위가 높은 장치를 앞에 위치시키며 우선순위에 따라 연결



#### Parallel 우선순위 부여 방식

각 장치별 우선순위를 판별하기 위한 Mask Register에 bit를 설정하고

각 bit가 개별적으로 세트될 수 있는 레지스터를 사용

Mask Register는 인터럽트 요청 상태를 조정할 수 있는 장치로 

우선순위가 높은 서비스 루틴 수행 중 우선순위가 낮은 bit를 비활성화시킬 수 있으며

우선순위가 높은 인터럽트는 낮은 인터럽트 수행중에도 우선 처리됨
